<div class="page-container">

  <div class="top-header">
    <button class="btn-back" (click)="goBack()">‚Üê {{ 'COMMON.BACK' | translate }}</button>
    <h1 class="page-title">{{ 'LAB_TEST.TITLE' | translate }}</h1>
  </div>

  <div class="form-card">

      <div class="form-group">
        <label>{{ 'LAB_TEST.BATCH_ID' | translate }} *</label>
        <input type="number" [(ngModel)]="batchId" class="input-box">
      </div>

      <div class="form-group">
        <label>{{ 'LAB_TEST.TEST_TYPE' | translate }} *</label>
        <input type="text" [(ngModel)]="testType" class="input-box">
      </div>

      <div class="form-group">
        <label>{{ 'LAB_TEST.FILE' | translate }} *</label>
        <input type="file" (change)="onFileSelected($event)" class="file-input">
      </div>

      <div class="action-buttons">
        <button class="btn-cancel" (click)="goBack()">
          {{ 'COMMON.CANCEL' | translate }}
        </button>

        <button class="btn-primary" (click)="uploadLabTest()" [disabled]="loading">
          {{ loading ? ('LAB_TEST.UPLOADING' | translate) : ('LAB_TEST.UPLOAD' | translate) }}
        </button>
      </div>

  </div>

  <h2 class="section-title">{{ 'LAB_TEST.HISTORY' | translate }}</h2>

  <table *ngIf="history.length > 0" class="history-table">
    <tr>
      <th>{{ 'LAB_TEST.BATCH_ID' | translate }}</th>
      <th>{{ 'LAB_TEST.TEST_TYPE' | translate }}</th>
      <th>{{ 'LAB_TEST.DATE' | translate }}</th>
    </tr>
    <tr *ngFor="let item of history">
      <td>{{ item.batchId }}</td>
      <td>{{ item.testType }}</td>
      <td>{{ item.date }}</td>
    </tr>
  </table>

</div>
